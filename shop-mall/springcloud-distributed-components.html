<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>三、微服务分布式电商系统--SpringCloud分布式组件Nacos注册中心、配置中心、OpenFeign远程调用、GateWay网关 - ZhangYao&#039;s Blog</title><meta description="【摘要】在分布式开发中，首先我们必须要知道注册中心、配置中心和网关这三个概念。每一个微服务上线都需要将他自己注册到注册中心，这样做的好处就是如果一个服务想要调用另外一个服务，这个服务就可以去注册中心寻找哪几个服务上线了，就可以找到对应的服务调用了。各个服务的配置众多，如果商品服务在10台机器上都有，想要改配置很麻烦，有一个配置中心集中管理。前端发过来的请求经过统一的鉴权、过滤、路由等由网关抵达后台"><meta property="og:type" content="blog"><meta property="og:title" content="三、微服务分布式电商系统--SpringCloud分布式组件Nacos注册中心、配置中心、OpenFeign远程调用、GateWay网关"><meta property="og:url" content="http://www.aizhangyao.com/shop-mall/springcloud-distributed-components.html"><meta property="og:site_name" content="ZhangYao&#039;s Blog"><meta property="og:description" content="【摘要】在分布式开发中，首先我们必须要知道注册中心、配置中心和网关这三个概念。每一个微服务上线都需要将他自己注册到注册中心，这样做的好处就是如果一个服务想要调用另外一个服务，这个服务就可以去注册中心寻找哪几个服务上线了，就可以找到对应的服务调用了。各个服务的配置众多，如果商品服务在10台机器上都有，想要改配置很麻烦，有一个配置中心集中管理。前端发过来的请求经过统一的鉴权、过滤、路由等由网关抵达后台"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/intro/intro.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/intro/springcloud-netflix.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/intro/eureka-stop-the-maintenance.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/intro/import-dependency.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/down.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/startup.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/startup-success.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/login.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/config-pom.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/config-server-addr-and-name.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/run-project.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/server-list.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/import-pom.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/nacos-config-bootstrap.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config-b.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/create-properties.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config-b-a.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/many-configs-1.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/many-configs.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/summary.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/feign/enable-feign-clients.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/feign/interface.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/feign/test.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/feign/browser.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/gateway-learn.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-module-1.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-module-2.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-1.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-2.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-gateway.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/exclude-datasource.png"><meta property="og:image" content="http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-gateway.png"><meta property="article:published_time" content="2020-06-11T23:52:22.000Z"><meta property="article:modified_time" content="2020-11-27T11:07:57.441Z"><meta property="article:author" content="ZhangYao"><meta property="article:tag" content="ShopMall"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/gallery/images/shop-mall/springcloud-distributed-components/intro/intro.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.aizhangyao.com/shop-mall/springcloud-distributed-components.html"},"headline":"ZhangYao's Blog","image":["http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/intro/intro.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/intro/springcloud-netflix.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/intro/eureka-stop-the-maintenance.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/intro/import-dependency.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/down.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/startup.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/startup-success.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/login.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/config-pom.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/config-server-addr-and-name.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/run-project.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/server-list.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/import-pom.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/nacos-config-bootstrap.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config-b.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/create-properties.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config-b-a.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/many-configs-1.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/many-configs.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/summary.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/feign/enable-feign-clients.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/feign/interface.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/feign/test.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/feign/browser.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/gateway-learn.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-module-1.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-module-2.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-1.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-2.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-gateway.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/exclude-datasource.png","http://www.aizhangyao.com/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-gateway.png"],"datePublished":"2020-06-11T23:52:22.000Z","dateModified":"2020-11-27T11:07:57.441Z","author":{"@type":"Person","name":"ZhangYao"},"description":"【摘要】在分布式开发中，首先我们必须要知道注册中心、配置中心和网关这三个概念。每一个微服务上线都需要将他自己注册到注册中心，这样做的好处就是如果一个服务想要调用另外一个服务，这个服务就可以去注册中心寻找哪几个服务上线了，就可以找到对应的服务调用了。各个服务的配置众多，如果商品服务在10台机器上都有，想要改配置很麻烦，有一个配置中心集中管理。前端发过来的请求经过统一的鉴权、过滤、路由等由网关抵达后台"}</script><link rel="canonical" href="http://www.aizhangyao.com/shop-mall/springcloud-distributed-components.html"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="ZhangYao&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/aizhangyao"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-11T23:52:22.000Z" title="2020-06-11T23:52:22.000Z">2020-06-11</time><span class="level-item"><a class="link-muted" href="/categories/ShopMall/">ShopMall</a></span><span class="level-item">16 分钟 读完 (大约 2394 个字)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">三、微服务分布式电商系统--SpringCloud分布式组件Nacos注册中心、配置中心、OpenFeign远程调用、GateWay网关</h1><div class="content"><p>【摘要】<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/intro/intro.png" alt=""><br>在分布式开发中，首先我们必须要知道注册中心、配置中心和网关这三个概念。<br>每一个微服务上线都需要将他自己注册到注册中心，这样做的好处就是如果一个服务想要调用另外一个服务，这个服务就可以去注册中心寻找哪几个服务上线了，就可以找到对应的服务调用了。各个服务的配置众多，如果商品服务在10台机器上都有，想要改配置很麻烦，有一个配置中心集中管理。前端发过来的请求经过统一的鉴权、过滤、路由等由网关抵达后台的服务，做一些预先的工作。</p>
<a id="more"></a>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><a href="https://spring.io/projects/spring-cloud-netflix">https://spring.io/projects/spring-cloud-netflix</a></p>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/intro/springcloud-netflix.png" alt=""></p>
<h1 id="SpringCloud-Alibaba"><a href="#SpringCloud-Alibaba" class="headerlink" title="SpringCloud Alibaba"></a>SpringCloud Alibaba</h1><h2 id="SpringCloud-Alibaba简介"><a href="#SpringCloud-Alibaba简介" class="headerlink" title="SpringCloud Alibaba简介"></a>SpringCloud Alibaba简介</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>Spring Cloud Alibaba致力于提供微服务开发的一站式解决方案。此项目包含开发分布式应用的必须组件，方便开发者通过Spring Cloud编程模型轻松快速使用这些组件来开发分布式应用服务。<br>依托Spring Cloud Alibaba，您只需要添加一些注解和少量配置，就可以将SpringCloud应用接入阿里微服务解决方案，通过阿里中间件来迅速搭建分布式应用系统。<br><a href="https://github.com/alibaba/spring-cloud-alibaba">https://github.com/alibaba/spring-cloud-alibaba</a></p>
<h3 id="为什么使用它？"><a href="#为什么使用它？" class="headerlink" title="为什么使用它？"></a>为什么使用它？</h3><p><img src="/gallery/images/shop-mall/springcloud-distributed-components/intro/eureka-stop-the-maintenance.png" alt=""></p>
<blockquote>
<p>Spring Cloud的几大痛点：</p>
</blockquote>
<ul>
<li>SpringCloud部分组件停止维护和更新，给开发带来不便。</li>
<li>SpringCloud部分环境搭建复杂，没有完善的可视化界面，我们需要大量的二次开发。</li>
<li>SpringCloud配置复杂，难以上手，部分配置差别难以区分和合理使用。</li>
</ul>
<blockquote>
<p>Spring Cloud Alibaba的优势：</p>
</blockquote>
<ul>
<li>阿里使用过的组件经历了考验，性能强悍，设计合理，现在开源状态。</li>
<li>成套的产品搭配完善的可视化界面给开发运维带来极大的便利。</li>
<li>搭建简单，学习曲线低。</li>
</ul>
<blockquote>
<p>结合Spring Cloud Alibaba我们最终的技术搭配方案：</p>
</blockquote>
<ul>
<li><font color=red>SpringCloud Alibaba - Nacos：注册中心(服务发现/注册)</font></li>
<li><font color=red>SpringCloud Alibaba - Nacos：配置中心(动态配置管理)</font></li>
<li><font color=blue>SpringCloud - Ribbon：负载均衡</font></li>
<li><font color=blue>SpringCloud - Feign：声明式HTTP客户端(调用远程服务)</font></li>
<li><font color=red>SpringCloud Alibaba - Sentinel：服务容错(限流、降级、熔断)</font></li>
<li><font color=blue>SpringCloud - Gateway：API网关(webflux 编程模式)</font></li>
<li><font color=blue>SpringCloud - Sleuth：调用链监控</font></li>
<li><font color=red>SpringCloud Albaba -Seata：原Fescar,即分布式事务解决方案</font></li>
</ul>
<h3 id="版本选择"><a href="#版本选择" class="headerlink" title="版本选择"></a>版本选择</h3><p>由于 Spring Boot 1 和 Spring Boot 2 在 Actuator 模块的接口和注解有很大的变更，且 spring-cloud-commons 从 1.x.x 版本升级到 2.0.0 版本也有较大的变更，因此我们采取跟 SpringBoot 版本号一致的版本:</p>
<ul>
<li>1.5.x版本适用于Spring Boot 1.5.x</li>
<li>2.0.x版本适用于Spring Boot 2.0.x</li>
<li>2.1.x版本适用于Spring Boot 2.1.x</li>
<li>…</li>
</ul>
<h3 id="项目中的依赖"><a href="#项目中的依赖" class="headerlink" title="项目中的依赖"></a>项目中的依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-alibaba-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/intro/import-dependency.png" alt=""></p>
<h2 id="SpringCloud-Alibaba-Nacos-注册中心"><a href="#SpringCloud-Alibaba-Nacos-注册中心" class="headerlink" title="SpringCloud Alibaba-Nacos 注册中心"></a>SpringCloud Alibaba-Nacos 注册中心</h2><p>参考文档：<a href="https://github.com/alibaba/spring-cloud-alibaba/blob/master/spring-cloud-alibaba-examples/nacos-example/nacos-discovery-example/readme-zh.md">Nacos Discovery Example</a><br><a href="https://nacos.io/zh-cn/docs/quick-start.html">Nacos 快速开始</a><br>Nacos是阿里巴巴开源的一个更易于构建云原生应用的动态服务发现、配置管理和服务管理平台。他是使用Java编写的，需要依赖Java环境。</p>
<h3 id="下载nacos-server"><a href="#下载nacos-server" class="headerlink" title="下载nacos-server"></a>下载nacos-server</h3><p><a href="https://github.com/alibaba/nacos/releases">https://github.com/alibaba/nacos/releases</a></p>
<h3 id="启动nacos-server"><a href="#启动nacos-server" class="headerlink" title="启动nacos-server"></a>启动nacos-server</h3><ul>
<li>双击bin中的startup.cmd文件</li>
<li>访问ip:8848/nacos/</li>
<li>使用默认的账号密码nacos/nacos进行登录<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/down.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/startup.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/startup-success.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/login.png" alt=""></li>
</ul>
<h3 id="将服务注册到nacos中"><a href="#将服务注册到nacos中" class="headerlink" title="将服务注册到nacos中"></a>将服务注册到nacos中</h3><ul>
<li><p>1.首先，修改 pom.xml 文件，引入 Nacos Discovery Starter。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/config-pom.png" alt=""></p>
</li>
<li><p>2.在应用的 /src/main/resources/application.properties 配置文件中配置 Nacos Server 地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.cloud.nacos.discovery.server-addr&#x3D;127.0.0.1:8848</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/config-server-addr-and-name.png" alt=""></p>
<blockquote>
<p>这里配置在yml中也可以。</p>
</blockquote>
</li>
<li><p>使用 @EnableDiscoveryClient 注解开启服务注册与发现功能。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProviderApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SpringApplication.run(Application<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@RestController</span></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">EchoController</span> </span>&#123;</span><br><span class="line">		<span class="meta">@GetMapping</span>(value = <span class="string">"/echo/&#123;string&#125;"</span>)</span><br><span class="line">		<span class="function"><span class="keyword">public</span> String <span class="title">echo</span><span class="params">(@PathVariable String string)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> string;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="启动应用，观察nacos服务列表"><a href="#启动应用，观察nacos服务列表" class="headerlink" title="启动应用，观察nacos服务列表"></a>启动应用，观察nacos服务列表</h3><p>启动应用，观察nacos服务列表是否已经注册上服务。</p>
<blockquote>
<p>注意：每一个应用都应该有名字，这样才能注册上去。修改application.properties文件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spring.application.name&#x3D;service-provoider</span><br><span class="line">server.port&#x3D;8000</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/run-project.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-discovery/server-list.png" alt=""><br>同样的，可以把其他服务都注册到nacos中。</p>
<h3 id="注册更多的服务上去，测试使用feign远程调用"><a href="#注册更多的服务上去，测试使用feign远程调用" class="headerlink" title="注册更多的服务上去，测试使用feign远程调用"></a>注册更多的服务上去，测试使用feign远程调用</h3><blockquote>
<p>Nacos使用三步</p>
</blockquote>
<ul>
<li>1.导包 nacos-discovery</li>
<li>2.写配置，指定nacos地址，指定应用的名字。</li>
<li>3.开启服务注册发现功能 @EnableDiscoveryClient。</li>
</ul>
<blockquote>
<p>Feign使用三步</p>
</blockquote>
<ul>
<li>1.导包openfeign</li>
<li>2.开启 @EnableFeignClients功能</li>
<li>3.编写接口，进行远程调用。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/coupon/coupon/member/list"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> R <span class="title">membercoupons</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="SpringCloud-Alibaba-Nacos-配置中心"><a href="#SpringCloud-Alibaba-Nacos-配置中心" class="headerlink" title="SpringCloud Alibaba-Nacos 配置中心"></a>SpringCloud Alibaba-Nacos 配置中心</h2><h3 id="如何接入"><a href="#如何接入" class="headerlink" title="如何接入"></a>如何接入</h3><ul>
<li>1.首先，修改 pom.xml 文件，引入 Nacos Config Starter。<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>2.在应用的 /src/main/resources/bootstrap.properties 配置文件中配置 Nacos Config 元数据。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spring.application.name&#x3D;nacos-config-example</span><br><span class="line">spring.cloud.nacos.config.server-addr&#x3D;127.0.0.1:8848</span><br></pre></td></tr></table></figure></li>
<li>3.完成上述两步后，应用会从 Nacos Config 中获取相应的配置，并添加在 Spring Environment 的 PropertySources 中。这里我们使用 @Value 注解来将对应的配置注入到 SampleController 的 userName 和 age 字段，并添加 @RefreshScope 打开动态刷新功能。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RefreshScope</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SampleController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Value</span>(<span class="string">"$&#123;user.name&#125;"</span>)</span><br><span class="line">	String userName;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Value</span>(<span class="string">"$&#123;user.age&#125;"</span>)</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/import-pom.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/nacos-config-bootstrap.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config-b.png" alt=""></li>
</ul>
<h3 id="在nacos中配置"><a href="#在nacos中配置" class="headerlink" title="在nacos中配置"></a>在nacos中配置</h3><p>登录nacos控制台 → 配置服务 → 配置列表 → + 添加配置：<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/create-properties.png" alt=""><br>发布之后再次访问。<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/test-config-b-a.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/many-configs-1.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/many-configs.png" alt=""></p>
<blockquote>
<p>总结<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/nacos-config/summary.png" alt=""></p>
</blockquote>
<h2 id="SpringCloud-Alibaba-Sentinel"><a href="#SpringCloud-Alibaba-Sentinel" class="headerlink" title="SpringCloud Alibaba-Sentinel"></a>SpringCloud Alibaba-Sentinel</h2><h2 id="SpringCloud-Alibaba-Seata"><a href="#SpringCloud-Alibaba-Seata" class="headerlink" title="SpringCloud Alibaba-Seata"></a>SpringCloud Alibaba-Seata</h2><h2 id="SpringCloud-Alibaba-OSS"><a href="#SpringCloud-Alibaba-OSS" class="headerlink" title="SpringCloud Alibaba-OSS"></a>SpringCloud Alibaba-OSS</h2><h1 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h1><h2 id="Feign声明式远程调用"><a href="#Feign声明式远程调用" class="headerlink" title="Feign声明式远程调用"></a>Feign声明式远程调用</h2><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><p>Fegin是一个声明式的HTTP客户端，它的目的就是让远程调用更加简单。Fegin提供了HTTP请求模板，通过编写简单的接口和插入注解，就可以定义好HTTP请求的参数、格式、地址等信息。<br>Fegin整合了Ribbon(负载均衡)和Hystrix(服务熔断)，可以让我们不再需要显式地使用这两个组件。<br>SpringCloudFeign在NetflixFeign的基础上扩展了对SpringMVC注解的支持，在其实现下，我们只需要创建一个接口并用注解的方式来配置它，即可完成对服务提供方的接口绑定。简化了SpringCloudRibbon自行封装服务调用客户端的开发量。</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ul>
<li><p>1.引入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>2.开启feign功能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients</span>(basePackages = <span class="string">"com.aiz.zhelimall.member.feign"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.声明远程接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient</span>(<span class="string">"zheli-coupon"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CouponFeignService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/coupon/coupon/member/list"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">memberCoupons</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/feign/enable-feign-clients.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/feign/interface.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/feign/test.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/feign/browser.png" alt=""></p>
</li>
</ul>
<h2 id="GateWay"><a href="#GateWay" class="headerlink" title="GateWay"></a>GateWay</h2><h3 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h3><p>网关作为流量的入口，常用功能包括路由转发、权限校验、限流控制等。而spring cloud gateway作为SpringCloud官方推出的第二代网关框架，取代了Zuul网关。<br>网关提供API全托管服务，丰富的API管理功能，辅助企业管理大规模的API，以降低管理成本和安全风险，包括协议适配、协议转发。安全策略、防刷、流量、监控日志等功能。<br>Sprin Cloud GateWay旨在提供一种简单而有效的方式来对API进行路由，并为他们提供切面，例如：安全性，监控/指标和弹性等。<br>官方文档地址：<a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.3.RELEASE/reference/html/">https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.3.RELEASE/reference/html/</a></p>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/gateway/gateway-learn.png" alt=""></p>
<h3 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h3><h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><ul>
<li>IDEA中创建项目<ul>
<li>在IDEA中File-&gt;Module-&gt;Spring Initializr点进Next-&gt;…</li>
<li>导入依赖、开启服务注册发现功能、启动配置Nocas</li>
</ul>
</li>
<li>断言(Predicate)</li>
<li>过滤器(Filter)</li>
</ul>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-module-1.png" alt=""><br><img src="/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-module-2.png" alt=""></p>
<p><img src="/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-1.png" alt=""><br>新建<code>bootstrap.properties</code>文件。<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-2.png" alt=""><br>在nacos中新建命名空间gateway。<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/gateway/new-gateway.png" alt=""><br>在启动的时候排除数据源。<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/gateway/exclude-datasource.png" alt=""><br>新建<code>application.yml</code>配置网关<br><img src="/gallery/images/shop-mall/springcloud-distributed-components/gateway/config-gateway.png" alt=""><br>访问下面的地址，运行测试。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost:88&#x2F;hello?url&#x3D;qq</span><br><span class="line">http:&#x2F;&#x2F;localhost:88&#x2F;hello?url&#x3D;baidu</span><br></pre></td></tr></table></figure>

<h2 id="Sleuth-Zipkin服务链路追踪"><a href="#Sleuth-Zipkin服务链路追踪" class="headerlink" title="Sleuth+Zipkin服务链路追踪"></a>Sleuth+Zipkin服务链路追踪</h2><h1 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h1></div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/ShopMall/">ShopMall</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5ef7656a652f9d001303a427&amp;product=inline-share-buttons&amp;cms=sop" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/gallery/donate/alipay.jpg" alt="支付宝"></span></a><a class="button is-warning donate" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="zhangyao9707@163.com"><input type="hidden" name="currency_code" value="USD"></form><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/gallery/donate/wechat.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/shop-mall/front-end-knowledge.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">四、微服务分布式电商系统--前端开发基础知识&amp;快速入门</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/shop-mall/fast-generate-crud.html"><span class="level-item">二、微服务分布式电商系统--快速开发后台管理系统</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: '42572ff8c5be901fb294de233c079719',
            repo: 'aizhangyao.github.io',
            owner: 'aizhangyao',
            clientID: '872c6e0704b3561faaca',
            clientSecret: '218979ed7b4abf1e403c79184e02808978a42558',
            admin: ["aizhangyao"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: 'last',
            
            
            enableHotKey: true
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.jpg" alt="ZhangYao"></figure><p class="title is-size-4 is-block line-height-inherit">ZhangYao</p><p class="is-size-6 is-block">Java Programmer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shanghai, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">64</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">17</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">20</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/aizhangyao" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/aizhangyao"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex" href="#前言"><span class="mr-2">1</span><span>前言</span></a></li><li><a class="is-flex" href="#SpringCloud-Alibaba"><span class="mr-2">2</span><span>SpringCloud Alibaba</span></a><ul class="menu-list"><li><a class="is-flex" href="#SpringCloud-Alibaba简介"><span class="mr-2">2.1</span><span>SpringCloud Alibaba简介</span></a><ul class="menu-list"><li><a class="is-flex" href="#简介"><span class="mr-2">2.1.1</span><span>简介</span></a></li><li><a class="is-flex" href="#为什么使用它？"><span class="mr-2">2.1.2</span><span>为什么使用它？</span></a></li><li><a class="is-flex" href="#版本选择"><span class="mr-2">2.1.3</span><span>版本选择</span></a></li><li><a class="is-flex" href="#项目中的依赖"><span class="mr-2">2.1.4</span><span>项目中的依赖</span></a></li></ul></li><li><a class="is-flex" href="#SpringCloud-Alibaba-Nacos-注册中心"><span class="mr-2">2.2</span><span>SpringCloud Alibaba-Nacos 注册中心</span></a><ul class="menu-list"><li><a class="is-flex" href="#下载nacos-server"><span class="mr-2">2.2.1</span><span>下载nacos-server</span></a></li><li><a class="is-flex" href="#启动nacos-server"><span class="mr-2">2.2.2</span><span>启动nacos-server</span></a></li><li><a class="is-flex" href="#将服务注册到nacos中"><span class="mr-2">2.2.3</span><span>将服务注册到nacos中</span></a></li><li><a class="is-flex" href="#启动应用，观察nacos服务列表"><span class="mr-2">2.2.4</span><span>启动应用，观察nacos服务列表</span></a></li><li><a class="is-flex" href="#注册更多的服务上去，测试使用feign远程调用"><span class="mr-2">2.2.5</span><span>注册更多的服务上去，测试使用feign远程调用</span></a></li></ul></li><li><a class="is-flex" href="#SpringCloud-Alibaba-Nacos-配置中心"><span class="mr-2">2.3</span><span>SpringCloud Alibaba-Nacos 配置中心</span></a><ul class="menu-list"><li><a class="is-flex" href="#如何接入"><span class="mr-2">2.3.1</span><span>如何接入</span></a></li><li><a class="is-flex" href="#在nacos中配置"><span class="mr-2">2.3.2</span><span>在nacos中配置</span></a></li></ul></li><li><a class="is-flex" href="#SpringCloud-Alibaba-Sentinel"><span class="mr-2">2.4</span><span>SpringCloud Alibaba-Sentinel</span></a></li><li><a class="is-flex" href="#SpringCloud-Alibaba-Seata"><span class="mr-2">2.5</span><span>SpringCloud Alibaba-Seata</span></a></li><li><a class="is-flex" href="#SpringCloud-Alibaba-OSS"><span class="mr-2">2.6</span><span>SpringCloud Alibaba-OSS</span></a></li></ul></li><li><a class="is-flex" href="#SpringCloud"><span class="mr-2">3</span><span>SpringCloud</span></a><ul class="menu-list"><li><a class="is-flex" href="#Feign声明式远程调用"><span class="mr-2">3.1</span><span>Feign声明式远程调用</span></a><ul class="menu-list"><li><a class="is-flex" href="#简介-1"><span class="mr-2">3.1.1</span><span>简介</span></a></li><li><a class="is-flex" href="#使用"><span class="mr-2">3.1.2</span><span>使用</span></a></li></ul></li><li><a class="is-flex" href="#GateWay"><span class="mr-2">3.2</span><span>GateWay</span></a><ul class="menu-list"><li><a class="is-flex" href="#简介-2"><span class="mr-2">3.2.1</span><span>简介</span></a></li><li><a class="is-flex" href="#核心概念"><span class="mr-2">3.2.2</span><span>核心概念</span></a></li><li><a class="is-flex" href="#使用-1"><span class="mr-2">3.2.3</span><span>使用</span></a></li></ul></li><li><a class="is-flex" href="#Sleuth-Zipkin服务链路追踪"><span class="mr-2">3.3</span><span>Sleuth+Zipkin服务链路追踪</span></a></li></ul></li><li><a class="is-flex" href="#结束语"><span class="mr-2">4</span><span>结束语</span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div><p class="help">Subscribe to get the lastest update!</p></form></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Blog/"><span class="level-start"><span class="level-item">Blog</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Business/"><span class="level-start"><span class="level-item">Business</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CataLog/"><span class="level-start"><span class="level-item">CataLog</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/DLMS/"><span class="level-start"><span class="level-item">DLMS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Hello-World/"><span class="level-start"><span class="level-item">Hello World</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JDBC/"><span class="level-start"><span class="level-item">JDBC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JavaSE/"><span class="level-start"><span class="level-item">JavaSE</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/MarkDown/"><span class="level-start"><span class="level-item">MarkDown</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/ShopMall/"><span class="level-start"><span class="level-item">ShopMall</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/redis/"><span class="level-start"><span class="level-item">redis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="level-start"><span class="level-item">多线程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="level-start"><span class="level-item">数据结构</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%9D%82%E8%AE%B0/"><span class="level-start"><span class="level-item">杂记</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="ZhangYao&#039;s Blog" height="28"></a><p class="size-small"><span>&copy; 2018 - 2020 ZhangYao</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span>©版权说明:本网站所有内容均收集于互联网或自己创作,方便于网友与自己学习交流,如有侵权,请留言,立即处理.</span><script type="text/javascript" src="https://v1.cnzz.com/z_stat.php?id=1279030921&amp;web_id=1279030921"></script><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://www.aizhangyao.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://s9.cnzz.com/z_stat.php?id=1279030921&amp;web_id=1279030921" async></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5ef7656a652f9d001303a427&amp;product=inline-share-buttons&amp;cms=sop" async="async"></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>